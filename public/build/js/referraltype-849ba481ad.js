"use strict";function selectPatient(e){$("#form_referraltype_id").val(e),$("#form_select_patient").submit()}function removeReferralType(e){var r={id:e};$.ajax({url:"/home/removereferral",type:"GET",data:$.param(r),contentType:"text/html",async:!1,success:function(r){$('.referral_tile[data-id="'+e+'"]').parent().remove()},error:function(){alert("Error removing")},cache:!1,processData:!1})}function addReferralType(e,r,t){var a={id:e};$.ajax({url:"/home/addreferral",type:"GET",data:$.param(a),contentType:"text/html",async:!1,success:function(a){$("#existing_referraltypes").append('<div class="col-xs-2 referral_tile_outer"><div class="referral_tile referr_patient" data-id="'+e+'"><span class="remove_referral_type glyphicon glyphicon-remove active " data-id="'+e+'" aria-hidden="true"></span><div class="referral_tile_inner"></div><p>'+t+"</p></div><p>"+r+"</p></div> ")},error:function(){alert("Error removing")},cache:!1,processData:!1})}$(document).ready(function(){$(".configuration_tile").on("click",function(){$(this).hasClass("active")?($(this).removeClass("active"),$(this).children("p").children("span").removeClass("glyphicon-ok"),$(this).children("p").children("span").addClass("glyphicon-pencil"),$(".remove_referral_type").removeClass("active"),$(".referral_tile_add").css("display","none")):($(this).addClass("active"),$(this).children("p").children("span").removeClass("glyphicon-pencil"),$(this).children("p").children("span").addClass("glyphicon-ok"),$(".remove_referral_type").addClass("active"),$(".referral_tile_add").css("display","inline"),$("#referrname").text($("#referr_list").find(":selected").text()),$(".add_referral_type").attr("data-id",$("#referr_list").find(":selected").val()))}),$("#existing_referraltypes").on("click",".remove_referral_type",function(){var e=$(this).attr("data-id");removeReferralType(e)}),$(".add_referral_type").on("click",function(){var e=$(this).attr("data-id"),r=$("#referr_list").find(":selected").attr("data-name"),t=$("#referr_list").find(":selected").text();addReferralType(e,r,t)}),$("#existing_referraltypes").on("click",".referr_patient",function(){var e=$(this).attr("data-id");selectPatient(e)}),$("#referr_list").on("change",function(e){$("#referrname").text($(this).find(":selected").text()),$(".add_referral_type").attr("data-id",$(this).find(":selected").val()),$(".referr_patient").on("click",function(){var e=$(this).attr("data-id");selectPatient(e)})})});
