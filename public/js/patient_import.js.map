{"version":3,"sources":["patient_import.js"],"names":[],"mappings":"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","file":"patient_import.js","sourcesContent":["$(document).ready(function () {\r\n    $('#practice_list').on('change', function (e) {\r\n        var practice_id = $(this).find(\":selected\").val();\r\n        getLocation(practice_id);\r\n\r\n    });\r\n    $('.file-input input[type=\"file\"]').change( function() {\r\n        var filename = $(this).val().replace(/\\\\/g, '/').replace(/.*\\//, '');\r\n        $('.filename').html( filename );\r\n    });\r\n    \r\n    $('.import_button').on('click',function(){\r\n        importPatients();\r\n    });\r\n    \r\n    $('.open_import').on('click',function(){\r\n        $('.import_form').addClass('active');\r\n        $('.success_message').text('');\r\n        $('.success_message').removeClass('active');\r\n        $('.import_button').addClass('active');\r\n        $('.dismiss_button').text('cancel');\r\n        \r\n    });\r\n    \r\n    \r\n});\r\n\r\nfunction getLocation(id) {\r\n    var formData = {\r\n        practice_id: id\r\n    };\r\n\r\n    $.ajax({\r\n        url: '/import/location',\r\n        type: 'GET',\r\n        data: $.param(formData),\r\n        contentType: 'text/html',\r\n        async: false,\r\n        success: function (e) {\r\n            var locations = $.parseJSON(e);\r\n            var content = '<option value=\"-1\">select Location</option>';\r\n            locations.forEach(function(location) {\r\n                content += '<option value=\"' + location.id + '\">' + location.name + '</option>';\r\n\r\n            });\r\n            $('#practice_locations').html(content);\r\n        },\r\n        error: function () {\r\n            alert('Error removing');\r\n        },\r\n        cache: false,\r\n        processData: false\r\n    });\r\n\r\n}\r\n\r\n\r\nfunction importPatients()\r\n{\r\n    var myform = document.getElementById(\"import_form\");\r\n    var fd = new FormData(myform );\r\n    $.ajax({\r\n        url: \"import/csv\",\r\n        data: fd,\r\n        cache: false,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function (dataofconfirm) {\r\n            \r\n            $('.import_form').removeClass('active');\r\n            $('.success_message').text(dataofconfirm);\r\n            $('.success_message').addClass('active');\r\n            $('.import_button').removeClass('active');\r\n            $('.dismiss_button').text('Ok');\r\n            \r\n            \r\n        }\r\n    });\r\n}"],"sourceRoot":"/source/"}