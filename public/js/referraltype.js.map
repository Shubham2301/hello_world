{"version":3,"sources":["referraltype.js"],"names":[],"mappings":"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","file":"referraltype.js","sourcesContent":["$(document).ready(function () {\r\n\r\n    $('.configuration_tile').on('click', function () {\r\n        if ($(this).hasClass('active')) {\r\n            $(this).removeClass('active');\r\n            $(this).children('p').children('span').removeClass('glyphicon-ok');\r\n            $(this).children('p').children('span').addClass('glyphicon-pencil');\r\n            $('.remove_referral_type').removeClass('active');\r\n            $('.referral_tile_add').css('display', 'none');\r\n\r\n        } else {\r\n            $(this).addClass('active');\r\n            $(this).children('p').children('span').removeClass('glyphicon-pencil');\r\n            $(this).children('p').children('span').addClass('glyphicon-ok');\r\n            $('.remove_referral_type').addClass('active');\r\n            $('.referral_tile_add').css('display', 'inline');\r\n            $('#referrname').text($('#referr_list').find(\":selected\").text());\r\n            $('.add_referral_type').attr('data-id', $('#referr_list').find(\":selected\").val());\r\n        }\r\n    });\r\n\r\n\r\n    $('#existing_referraltypes').on('click', '.remove_referral_type', function () {\r\n        var id = $(this).attr('data-id');\r\n        removeReferralType(id);\r\n    });\r\n    $('.add_referral_type').on('click', function () {\r\n        var id = $(this).attr('data-id');\r\n        var display_name = $('#referr_list').find(\":selected\").attr('data-name');\r\n        var name = $('#referr_list').find(\":selected\").text();\r\n\r\n        addReferralType(id, display_name, name);\r\n    });\r\n\r\n\r\n    $('#existing_referraltypes').on('click', '.referr_patient', function () {\r\n        var id = $(this).attr('data-id');\r\n        selectPatient(id);\r\n    });\r\n\r\n    $('#referr_list').on('change', function (e) {\r\n\r\n        $('#referrname').text($(this).find(\":selected\").text());\r\n        $('.add_referral_type').attr('data-id', $(this).find(\":selected\").val());\r\n\r\n        $('.referr_patient').on('click', function () {\r\n            var id = $(this).attr('data-id');\r\n            selectPatient(id);\r\n        });\r\n    });\r\n\r\n\r\n});\r\n\r\n\r\nfunction selectPatient(id) {\r\n\r\n    $('#form_referraltype_id').val(id);\r\n    $('#form_select_patient').submit();\r\n\r\n}\r\n\r\nfunction removeReferralType(id) {\r\n\r\n    var formData = {\r\n        id: id\r\n    };\r\n\r\n    $.ajax({\r\n        url: '/home/removereferral',\r\n        type: 'GET',\r\n        data: $.param(formData),\r\n        contentType: 'text/html',\r\n        async: false,\r\n        success: function (e) {\r\n            $('.referral_tile[data-id=\"' + id + '\"]').parent().remove();\r\n        },\r\n        error: function () {\r\n            alert('Error removing');\r\n        },\r\n        cache: false,\r\n        processData: false\r\n    });\r\n\r\n}\r\n\r\n// TODO: function to send AJAX call and add another tile. \r\nfunction addReferralType(id, display_name, name) {\r\n\r\n    var formData = {\r\n        id: id\r\n    };\r\n\r\n    $.ajax({\r\n        url: '/home/addreferral',\r\n        type: 'GET',\r\n        data: $.param(formData),\r\n        contentType: 'text/html',\r\n        async: false,\r\n        success: function (e) {\r\n            // success :\r\n            $('#existing_referraltypes').append(\"<div class=\\\"col-xs-2 referral_tile_outer\\\"><div class=\\\"referral_tile referr_patient\\\" data-id=\\\"\" + id + \"\\\"><span class=\\\"remove_referral_type glyphicon glyphicon-remove active \\\" data-id=\\\"\" + id + \"\\\" aria-hidden=\\\"true\\\"></span><div class=\\\"referral_tile_inner\\\"></div><p>\" + name + \"</p></div><p>\" + display_name + \"</p></div> \");\r\n\r\n        },\r\n        error: function () {\r\n            alert('Error removing');\r\n        },\r\n        cache: false,\r\n        processData: false\r\n    });\r\n}\r\n"],"sourceRoot":"/source/"}